
<!-- {% set airplane = frappe.get_doc("Airplane", doc.airplane) %}


<p><strong>Airline:</strong> {{ airplane.airline }}</p>


<p><strong>Source:</strong> {{ doc.source }}</p>
<p><strong>Destination:</strong> {{ doc.destination }}</p>
<p><strong>Departure Date:</strong> {{ frappe.utils.format_date(doc.date_of_departure, "d MMMM, YYYY") }}</p>
<p><strong>Departure Time:</strong> {{ doc.time_of_departure }}</p>
<p><strong>Duration:</strong> {{ frappe.utils.format_duration(doc.duration) }}</p>


<a href="/book-flight?flight={{ doc.name }}">
  <button>Book Flight</button>
</a> 

<a href="/ticket-booking-web-form?flight={{ doc.name }}&price=10000">
  <button>Book Flight</button>
</a> -->



{% extends "templates/web.html" %}

{% block page_content %}

<h1>Book Your Flight</h1>

{% if frappe.form_dict.flight %}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const flightField = document.querySelector('input[data-fieldname="flight"]');
      const priceField = document.querySelector('input[data-fieldname="flight_price"]');
      if (flightField) flightField.value = "{{ frappe.form_dict.flight }}";
      if (priceField) priceField.value = "{{ frappe.form_dict.price or 20000 }}";
    });
  </script>
{% endif %}

<!-- The web form will render below -->
{{ web_form }}

{% endblock %}


